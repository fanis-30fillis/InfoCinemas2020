# InfoCinemas2020_E17150_Triantafillis_Theofanis
# Οδηγίες Εγκατάστασης
Χρειάζονται τα docker και docker-compose ώστε να τρέξει το πρόγραμμα.
Αρχικά τρέχει η εντολή 
`# docker-compose build`
στον φάκελο που έχει το Dockerfile και το docker-compose.yml.
Μετά πρέπει να εκτελεστεί η εντολή 
`# docker-compose run`
ώστε να τρέξει η εφαρμογή, μετά οι χρήστες πρέπει να συνδεθούν στον υπολογιστή με την public IP στο port 5000.
# Λειτουργίες
Το σύστημα έχει δημιουργηθεί ώστε να χρησιμοποιείται από έναν κινηματογράφο που θέλει να επιτρέπει στους χρήστες
να κλείσουν εισιτήρια για προβολές ταινιών. Επιτρέπει την εισαγωγή ταινιών με τις ημερομηνίες προβολής,
την κράτηση εισιτηρίων και την προβολή ιστορικού των χρηστών.
# Endpoints
Το σύστημα έχει τα endpoints

**`\admin-index` ή `\`**

Είναι το η αρχική σελίδα των απλών χρηστών, από εκεί μπορούν να μεταφερθούν σε
σελίδες ώστε να εκτελέσουν τις λειτουργίες που θέλουν
Το σύστημα έχει τα endpoints

**`\admin-index`**

Είναι το η αρχική σελίδα των διαχειριστών, από εκεί μπορούν να μεταφερθούν σε
σελίδες ώστε να εκτελέσουν τις λειτουργίες που θέλουν

**`\register`**

Εδώ πραγματοποιούνται οι εγγραφές των χρηστών, η φόρμα δέχεται όνομα,
email, κωδικό και επιβεβαίωση κωδικού. Το όνομα πρέπει να είναι από 4
έως 20 χαρακτήρες, το email ελέγχεται για το αν είναι σωστό και εάν είναι
μοναδικό στην βάση δεδομένων. Αν δεν είναι τότε εμφανίζεται κατάλληλο μήνυμα.
Το πεδίο κωδικός δέχεται έναν κωδικό από 8 έως 64 χαρακτήρες, πρέπει να
είναι ίδιο με την επιβεβαίωση κωδικού. Όταν όλα αυτά περάσουν τους ελέγχους
τότε η εγγραφή μπαίνει στη βάση δεδομένων και ο χρήστης μεταφέρετε στην
σελίδα για σύνδεση (`\login`)

**`\login`**

Αυτό το endpoint χρησιμοποιείται για την σύνδεση χρηστών στο σύστημα.
Δέχεται το email και τον κωδικό και τα ελέγχει. Εάν είναι σωστά τότε
επιστρέφει τον χρήστη στο `\index` εάν είναι απλός χρήστης ή στο `\admin-index`
εάν είναι διαχειριστής

**`\add_movie`**

Αυτό το endpoint μπορεί να χρησιμοποιηθεί μόνο από διαχειριστές. Χρησιμοποιείται
για να προστεθούν ταινίες στο σύστημα. Ο διαχειριστής πρέπει να εισάγει
το όνομα της ταινίας, το έτος, μια περιγραφή, την ημερομηνία προβολής και
τα διαθέσιμα εισιτήρια. Η ημερομηνία πρέπει να είναι της μορφής `ΗΗ/ΜΜ/ΕΕΕΕ ΩΩ:ΛΛ`.
Τα εισιτήρια πρέπει να είναι θετικός αριθμός.

**`\search_movie`**

Αυτό το endpoint χρησιμοποιείται για να ψάχνει ο χρήστης ταινία για να κάνει 
κράτηση εισιτηρίων. Ο χρήσης μπορεί να δώσει ταινία ή μπορεί να αφήσει τον
τίτλο κενό ώστε να εμφανιστούν όλες οι ταινίες. Τα αποτελέσματα προωθούνται
στο `\results`.

**`\results`**

Αυτό το endpoint παίρνει τα αποτελέσματα της αναζήτησης και τα παρουσιάζει
στους χρήστες. Αν μια ταινία δεν έχει διαθέσιμα εισιτήρια τότε δεν
δίνεται η δυνατότητα κράτησης. Όταν ο χρήστης επιλέξει ταινία τον
στέλνει στο endpoint `\reserve` για να κάνει κράτηση.

**`\reserve`**

Σε αυτό το endpoint ο χρήστης δίνει έναν αριθμό εισιτηρίων που θέλει να
κλίσει για την προβολή. Ο αριθμός αυτός πρέπει να είναι θετικός και
μικρότερος ή ίσος του αριθμού εναπομεινάντων εισιτηρίων.

**`\delete_movie`**

Αυτό το endpoint υπάρχει για να διαγράφει ταινίες, δέχεται ένα τίτλο
ταινίας, υπόχρεωτικά, και τη διαγράφει, εάν υπάρχουν πολλές τότε
διαγράφει την παλαιότερη. Ο τίτλος πρέπει να είναι ακριβώς ίδιο για να
γίνει η διαγραφή.

**`\create_admin`**

Αυτό το endpoint χρησιμοποιείται από διαχειριστές για να δημιουργήσουν
άλλους διαχειριστές. Δέχεται όνομα, μεταξύ 4 και 20 χαρακτήρων, email
που πρέπει να είναι μοναδικό, κωδικό που πρέπει να είναι από 8 έως 64
χαρακτήρες και επανάληψη κωδικού που πρέπει να είναι ίδιος με τον αρχικό.

**`\history`**

Δίχνει το ιστορικό προβολών του χρήστη που είναι συνδεδεμένος

**`\update`**

Χρησιμοποιείται αποκλειστικά από διαχειριστές για να ενημερώσουν μια
υπάρχουσα ταινια στο σύστημα. Δέχεται το όνομα της ταινίας και βρίσκει όλες
τις ταινίες με αυτό τον τίτλο. Στέλνει τα αποτελέσματα στο endpoint `\update_results`

**`\update_results`**

Αυτό το endpoint εμφανίζει όλες τις ταινίες που έχουν βρεθεί από το `\update`.
Στέλνει την ταινία που επιλέγει ο χρήστης στο `\update_movie`

**`\update_movie`**

το όνομα της ταινίας, το έτος, μια περιγραφή, την ημερομηνία προβολής και
τα διαθέσιμα εισιτήρια. Η ημερομηνία πρέπει να είναι της μορφής `ΗΗ/ΜΜ/ΕΕΕΕ ΩΩ:ΛΛ`.
Τα εισιτήρια πρέπει να είναι μη αρνητικός αριθμός. Όλα τα πεδία είναι
προεραιτικά.

**`\logoff`**

Αποσυνδέει τον χρήστη από το σύστημα και τον επιστρέφει στην σελίδα
`\index`

**`\reset`**

Χρησημοποιείται απο τους χρήστες για να γινει αλλαγή του κωδικού. Δέχεται
τον τωρινό κωδικό, έναν καινούργιο κωδικό (από 8 έως 64 χαρακτήρες) και
επιβεβαίωση αυτού και εάν έχει δωθεί σωστός τωρινός κωδικός και αποδεκτός
νέος κωδικός τότε αλλάζει ο κωδικός.

